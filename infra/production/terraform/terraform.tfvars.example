# ============================================================================
# Terraform Variables Template
# Copy this file to terraform.tfvars and customize for your environment
# ============================================================================

# ============================================================================
# Project Configuration
# ============================================================================

project_name = "microservices-platform"
environment  = "production"
aws_region   = "ap-southeast-1" # Singapore

# ============================================================================
# Networking
# ============================================================================

vpc_cidr                 = "10.0.0.0/16"
availability_zones_count = 2

# ============================================================================
# Domain and SSL Certificate
# REQUIRED: Create ACM certificate first and paste ARN here
# ============================================================================

domain_name     = "example.com"
certificate_arn = "" # Get from: aws acm list-certificates

# ============================================================================
# SSH Access
# REQUIRED: Create and upload SSH key pair first
# ============================================================================

ssh_key_name = "microservices-prod-key" # Create with: aws ec2 create-key-pair

# ============================================================================
# EC2 Application Servers
# ============================================================================

app_instance_type  = "t3.medium" # 2 vCPU, 4 GB RAM
app_instance_count = 3           # Number of instances

# ============================================================================
# RDS MySQL Database
# ============================================================================

rds_instance_class    = "db.t3.medium" # 2 vCPU, 4 GB RAM
rds_allocated_storage = 100            # GB
rds_engine_version    = "8.0.35"
rds_multi_az          = true # Enable for production

# ============================================================================
# DocumentDB (MongoDB compatible)
# ============================================================================

docdb_instance_class = "db.r5.large" # 2 vCPU, 16 GB RAM
docdb_instance_count = 3             # Number of instances

# ============================================================================
# ElastiCache Redis
# ============================================================================

redis_node_type        = "cache.r6g.large" # 2 vCPU, 13.07 GB RAM
redis_num_cache_nodes  = 2                 # Number of nodes (primary + replica)

# ============================================================================
# MSK Kafka
# ============================================================================

msk_instance_type          = "kafka.m5.large" # 2 vCPU, 8 GB RAM
msk_number_of_broker_nodes = 3                # Must be multiple of AZs
msk_ebs_volume_size        = 100              # GB per broker

# ============================================================================
# OpenSearch (Elasticsearch compatible)
# ============================================================================

opensearch_instance_type     = "r6g.large.search" # 2 vCPU, 16 GB RAM
opensearch_instance_count    = 3                  # Number of nodes
opensearch_ebs_volume_size   = 100                # GB per node

# ============================================================================
# Load Balancer
# ============================================================================

enable_deletion_protection = true # Prevent accidental deletion

# ============================================================================
# Backup Configuration
# ============================================================================

backup_retention_days = 7 # Days to retain automated backups

# ============================================================================
# Cost Optimization Options
# ============================================================================

# For development/staging, use smaller instances to save costs:
# app_instance_type            = "t3.small"
# app_instance_count           = 2
# rds_instance_class           = "db.t3.small"
# rds_multi_az                 = false
# docdb_instance_class         = "db.t3.medium"
# docdb_instance_count         = 1
# redis_node_type              = "cache.t3.medium"
# redis_num_cache_nodes        = 1
# msk_instance_type            = "kafka.t3.small"
# msk_number_of_broker_nodes   = 2
# opensearch_instance_type     = "t3.medium.search"
# opensearch_instance_count    = 1
